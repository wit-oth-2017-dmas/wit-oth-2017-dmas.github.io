 <!DOCTYPE html>
 <html>
   <head>

     <meta charset="utf-8">
     <meta name="viewport" content="width=device-width, initial-scale=1">

     

     <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.min.css" type="text/css">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/solarized-light.min.css" rel="stylesheet" />

     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.address/1.6/jquery.address.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/java.min.js"></script>
     <script>hljs.initHighlightingOnLoad();</script>

     

     <style>
       

body 
{
  font-family: "Open Sans", "Helvetica", "Helvetica Neue",  "Arial", sans-serif;
}

figcaption
{
  margin-bottom: 20px;
}

.vertical-align
{
  display: flex;
  align-items: center;
}

.ui.segment.pushable
{
  margin: 0;
  padding: 1rem 0;
  overflow: visible;
}



     </style>

   </head>

  <body>
    

<style>
  

code
{
  font-family: "Monaco";
  font-size: 110%;
}

img
{
  padding:1px;
  border:1px solid black;
}

h1
{
  font-style:italic;
  font-size:130%;
  border-bottom:thin solid black;
}

h2
{
  font-size:110%;
  border-bottom: thin solid black;
}

h3
{
  font-size:100%;
  border-bottom: thin solid black;
}

body
{
  overflow-y: scroll;
}

.pushable > .pusher
{
  padding-bottom: 1.5rem;
}

.ui.segment.pushable
{
  margin: 0;
  padding: 1rem 0;
  overflow: visible;
}



</style>

<div class="ui fixed top pointing inverted stackable menu labmenu">
  <header class="header item">
    <i id="toc" class="sitemap icon"></i>
    <a href="../index.html">
      1.1: HTML Templates
    </a>
  </header>
  <div class="right tab-menu menu">
    
    <a class="item" data-tab="Lab-1.4 Navigation ">
      Lab-1.4 Navigation 
    </a>
    
    <a class="item" data-tab="01">
      01
    </a>
    
    <a class="item" data-tab="02">
      02
    </a>
    
    <a class="item" data-tab="03">
      03
    </a>
    
    <a class="item" data-tab="04">
      04
    </a>
    
    <a class="item" data-tab="05">
      05
    </a>
    
    <a class="item" data-tab="Exercises">
      Exercises
    </a>
    
    <div class="item">
      
    </div>
  </div>
</div>

<div class="ui segment pushable">
  <div class="ui inverted labeled icon left inline vertical sidebar menu">
    
      
        <a class="item" href="../../topic-01-html-and-templating/book-00-case-study/index.html">
          Lab-1.1 Case Study
        </a>
      
    
      
        <a class="item" href="../../topic-01-html-and-templating/book-01-harp/index.html">
          Lab-1.2 Harp & Surge
        </a>
      
    
      
        <a class="item" href="../../topic-01-html-and-templating/book-02-templates/index.html">
          Lab-1.3 Templating
        </a>
      
    
      
        <a class="item" href="../../topic-01-html-and-templating/book-03-nav/index.html">
          Lab-1.4 Navigation 
        </a>
      
    
      
        <a class="item" href="../../topic-02-css-frameworks/book-a/index.html">
          Lab-1.5 Semantic UI
        </a>
      
    
      
        <a class="item" href="../../topic-02-css-frameworks/book-b/index.html">
          Lab-1.6 Semantic UI
        </a>
      
    
      
        <a class="item" href="../../topic-02-js-review/book-1-javascript-intro/index.html">
          Lab-2.1 JS Intro
        </a>
      
    
      
        <a class="item" href="../../topic-02-js-review/book-2-javascript-fundamentals/index.html">
          Lab-2.2 JS Basics
        </a>
      
    
      
        <a class="item" href="../../topic-03-jquery+dom/book-3-jquery/index.html">
          Lab-3 JQuery
        </a>
      
    
  </div>
  <div class="pusher" tabindex="-1">
    <div class="ui basic segment" id="labchat">
      <br>
      
      <div  class="ui tab segment lab" data-tab="Lab-1.4 Navigation ">
        <h1>Objectives</h1>
<p>Rework the tabbed navigation site from lab 04 to use EJS template</p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="01">
        <h1>Setup</h1>
<p>This is a complete archive a simple navigable web site form lab 04 (slightly simplified).</p>
<ul>
<li><a href="./archives/navdemo.zip">navdemo.zip</a></li>
</ul>
<p>The site looks <a href="archives/navdemo/public/index.html">like this</a>.</p>
<p>Download the archive and zip to your workspace. It structured like this:</p>
<p><img src="img/02.png" alt=""></p>
<p>This is already configured to work with the harp server. Open a shell in the <code>navdemo</code> folder and run the server:</p>
<pre><code>harp server
------------
Harp v0.23.0 – Chloi Inc. 2012–2015
Your server is listening at http://localhost:9000/
Press Ctl+C to stop the server
------------</code></pre>
<p>Browse to <a href="http://localhost:9000/">http://localhost:9000/</a> ... the site should be available.</p>
<p>Because we are running the site under an EJS server, we can start to EJS features. </p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="02">
        <h1>Layout</h1>
<p>Introduce the following file into the project:</p>
<h2>_layout.ejs</h2>
<pre><code>&lt;html&gt;
  &lt;head&gt;
    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
    &lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;home.css&quot; media=&quot;screen&quot; /&gt;
    &lt;title&gt;Home Page&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;%- yield %&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>Now we can simplify all the file. Rename each from <code>.html</code> to <code>.ejs</code> - and then replace the contents of each file with this simpler version:</p>
<h2>index.ejs</h2>
<pre><code>&lt;header id=&quot;header&quot;&gt;
  &lt;h1&gt;
    Page I
  &lt;/h1&gt;  
&lt;/header&gt;

&lt;nav id=&quot;navigation&quot;&gt;
  &lt;ul id=&quot;menu&quot;&gt;  
    &lt;li class=&quot;current&quot;&gt;&lt;a href=&quot;index.html&quot;&gt;Mauris&lt;/a&gt;&lt;/li&gt;  
    &lt;li&gt;&lt;a href=&quot;page1.html&quot;&gt; Cras &lt;/a&gt;&lt;/li&gt;  
    &lt;li&gt;&lt;a href=&quot;page2.html&quot;&gt;Proin&lt;/a&gt;&lt;/li&gt;  
    &lt;li&gt;&lt;a href=&quot;page3.html&quot;&gt;Integer&lt;/a&gt;&lt;/li&gt;  
  &lt;/ul&gt;  
&lt;/nav&gt;

&lt;main id=&quot;maincontent&quot;&gt;
  &lt;article id=&quot;primary&quot;&gt;
    &lt;p&gt;
      Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Sed feugiat nisi  
      at sapien. Phasellus varius tincidunt ligula. Praesent nisi. Duis  
      sollicitudin. Donec dignissim, est vel auctor blandit, ante est laoreet  
      neque, non pellentesque mauris turpis eu purus.
    &lt;/p&gt;    
    &lt;p&gt;
      Suspendisse mollis leo nec diam. Vestibulum pulvinar tellus sit amet nulla  
      fringilla semper. Aenean aliquam, urna et accumsan sollicitudin, tellus  
      pede lobortis velit, nec placerat dolor pede nec nibh. Donec fringilla. Duis  
      adipiscing diam at enim. Vestibulum nibh.
    &lt;/p&gt;  
    &lt;p&gt;
      Nulla facilisi. Aliquam dapibus leo eget leo. Etiam vitae turpis sit amet  
      massa posuere cursus. Sed vitae justo quis tortor facilisis ultrices.  
      Integer id erat. Donec at felis ut erat interdum vestibulum. Quisque et eros.  
      Donec fringilla, est in condimentum venenatis, tortor velit vehicula sem, in  
      elementum quam sapien eu lectus. In dolor urna, ullamcorper vel, tempor sit  
      amet, semper ut, felis. Praesent nisi.
    &lt;/p&gt;  
  &lt;/article&gt;

  &lt;aside id=&quot;secondary&quot;&gt;
    &lt;p&gt;
      Fusce scelerisque viverra quam. Nam urna. Nullam urna libero, euismod at,  
      euismod sit amet, porttitor ac, mauris.
    &lt;/p&gt;  
    &lt;p&gt;
      Vestibulum interdum aliquet lacus. Vestibulum egestas. Fusce adipiscing  
      quam sed metus.
    &lt;/p&gt;  
    &lt;p&gt;
      Nullam dignissim aliquam dui. Proin laoreet, elit sed pulvinar  
      sollicitudin, urna arcu fermentum felis, in rhoncus nunc neque vitae  
      libero.
    &lt;/p&gt;
  &lt;/aside&gt;
&lt;/main&gt;

&lt;footer id=&quot;footer&quot;&gt;
  &lt;p&gt;
    Proin quis orci eu erat molestie varius. Praesent condimentum  
    orci in lectus. Ut ipsum. In hac habitasse platea dictumst.
  &lt;/p&gt;
&lt;/footer&gt;</code></pre>
<h2>page1.ejs</h2>
<pre><code>&lt;header id=&quot;header&quot;&gt;
  &lt;h1&gt;
    Page II
  &lt;/h1&gt;  
&lt;/header&gt;

&lt;nav id=&quot;navigation&quot;&gt;
  &lt;ul id=&quot;menu&quot;&gt;  
    &lt;li&gt;&lt;a href=&quot;index.html&quot;&gt; Mauris &lt;/a&gt;&lt;/li&gt;  
    &lt;li class=&quot;current&quot;&gt; &lt;a href=&quot;page1.html&quot;&gt;Cras&lt;/li&gt;  
    &lt;li&gt;&lt;a href=&quot;page2.html&quot;&gt;Proin&lt;/a&gt;&lt;/li&gt;  
    &lt;li&gt;&lt;a href=&quot;page3.html&quot;&gt;Integer&lt;/a&gt;&lt;/li&gt;   
  &lt;/ul&gt;  
&lt;/nav&gt;

&lt;main id=&quot;maincontent&quot;&gt;
  &lt;article id=&quot;primary&quot;&gt;
    &lt;p&gt;
      Phasellus non nibh ut lacus elementum pharetra. Vivamus sed orci ipsum.
      Nulla sapien eros, euismod ac ornare sed, consectetur sed dui. Integer gravida
      sem et turpis interdum in convallis eros placerat. Quisque auctor, velit sed
      blandit pharetra, felis diam ultricies erat, vel aliquet neque risus non lacus.
      Etiam non magna tortor, in rutrum augue. Donec nec enim ante, in tincidunt eros.
    &lt;/p&gt;
    &lt;p&gt;
      Aenean ultrices, ante non scelerisque eleifend, libero dolor rutrum justo,
      vitae iaculis mi est id nisl. Nunc velit odio, luctus in imperdiet eget,
      pulvinar ac quam. Nullam ipsum arcu, euismod vel congue quis, ullamcorper
      sit amet massa. Vivamus et mauris ut ante sagittis sagittis quis eu velit.  
    &lt;/p&gt; 
  &lt;/article&gt;

  &lt;aside id=&quot;secondary&quot;&gt;
    &lt;p&gt;
      In faucibus turpis lacus, eget congue magna. Aenean vitae lacus sed mi pretium
      porttitor suscipit sit amet ipsum. Suspendisse potenti. 
    &lt;/p&gt;
    &lt;p&gt;
      Nunc pharetra consectetur
      est eget tempus. Aenean ac iaculis dui. Morbi volutpat rutrum urna vitae suscipit.
      Vestibulum quam libero, lacinia id varius at, pharetra vitae metus. Proin sit amet
      euismod dolor. 
    &lt;/p&gt;
  &lt;/aside&gt;
&lt;/main&gt;

&lt;footer id=&quot;footer&quot;&gt;
  &lt;p&gt;
    Proin quis orci eu erat molestie varius. Praesent condimentum  
    orci in lectus. Ut ipsum. In hac habitasse platea dictumst.
  &lt;/p&gt;
&lt;/footer&gt;</code></pre>
<h2>page2.ejs</h2>
<pre><code>&lt;header id=&quot;header&quot;&gt;
  &lt;h1&gt;
    Page III
  &lt;/h1&gt;  
&lt;/header&gt;

&lt;nav id=&quot;navigation&quot;&gt;
  &lt;ul id=&quot;menu&quot;&gt;  
    &lt;li&gt;&lt;a href=&quot;index.html&quot;&gt; Mauris &lt;/a&gt;&lt;/li&gt;  
    &lt;li&gt;&lt;a href=&quot;page1.html&quot;&gt; Cras &lt;/a&gt;&lt;/li&gt;  
    &lt;li class=&quot;current&quot;&gt; &lt;a href=&quot;page3.html&quot;&gt;Proin&lt;/li&gt;  
    &lt;li&gt;&lt;a href=&quot;page3.html&quot;&gt;Integer&lt;/a&gt;&lt;/li&gt;  
  &lt;/ul&gt;  
&lt;/nav&gt;

&lt;main id=&quot;maincontent&quot;&gt;
  &lt;article id=&quot;primary&quot;&gt;
    &lt;p&gt;
      Sed vitae erat convallis, iaculis diam eu, accumsan elit. Nullam nunc lectus, convallis nec finibus at, feugiat in elit. Cras porta, lacus in pretium malesuada, nisl ipsum venenatis nulla, a tempus diam est a dolor. Nam quis metus aliquet, tempus quam vel, hendrerit mi. In sollicitudin est ultrices tempus rutrum. 
    &lt;/p&gt;
    &lt;p&gt;
      Aliquam pharetra, erat sed euismod ullamcorper, ex sem pretium lectus, nec porttitor nisl lectus nec turpis. Suspendisse eu tristique turpis, ut consectetur libero. Praesent feugiat nulla enim, eu consequat nisi maximus vitae. Morbi facilisis aliquet felis. Curabitur ullamcorper sit amet lacus vitae scelerisque. Nullam enim est, imperdiet nec purus nec, tristique vestibulum lectus. Nullam vel nisl consectetur, luctus purus et, auctor lacus. Donec ut dictum justo. Cras sed justo tincidunt, tincidunt lacus non, suscipit ex.
    &lt;/p&gt; 
  &lt;/article&gt;
  &lt;aside id=&quot;secondary&quot;&gt;
    &lt;p&gt;
      Duis gravida at neque fringilla posuere. Curabitur a consectetur sem. Fusce massa lacus, porta ut congue eu, ultrices ut lorem. Nam tempor pretium faucibus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
    &lt;/p&gt;
    &lt;p&gt;
      Nullam vestibulum, erat sed sagittis volutpat, risus arcu dapibus mi, vitae rhoncus elit odio vel lectus. 
    &lt;/p&gt;
  &lt;/aside&gt;
&lt;/main&gt;

&lt;footer id=&quot;footer&quot;&gt;
  &lt;p&gt;
    Proin quis orci eu erat molestie varius. Praesent condimentum  
    orci in lectus. Ut ipsum. In hac habitasse platea dictumst.
  &lt;/p&gt;
&lt;/footer&gt;</code></pre>
<h2>page3.ejs</h2>
<pre><code>&lt;header id=&quot;header&quot;&gt;
  &lt;h1&gt;
    Page IV
  &lt;/h1&gt;  
&lt;/header&gt;

&lt;nav id=&quot;navigation&quot;&gt;
  &lt;ul id=&quot;menu&quot;&gt;  
    &lt;li&gt;&lt;a href=&quot;index.html&quot;&gt; Mauris &lt;/a&gt;&lt;/li&gt;  
    &lt;li&gt;&lt;a href=&quot;page1.html&quot;&gt; Cras &lt;/a&gt;&lt;/li&gt;  
    &lt;li&gt;&lt;a href=&quot;page2.html&quot;&gt;Proin&lt;/a&gt;&lt;/li&gt;  
    &lt;li class=&quot;current&quot;&gt; &lt;a href=&quot;page3.html&quot;&gt;Integer&lt;/a&gt;&lt;/li&gt; 
  &lt;/ul&gt;  
&lt;/nav&gt;

&lt;main id=&quot;maincontent&quot;&gt;
  &lt;article id=&quot;primary&quot;&gt;
    &lt;p&gt;
      In sed rhoncus erat. Pellentesque vel turpis facilisis, fringilla ante non, auctor arcu. Sed convallis sapien nec felis consequat tristique id vel mauris. Ut aliquam nunc vitae pretium bibendum. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Donec ultricies et massa vel iaculis. Fusce euismod sit amet nisi ac malesuada. 
    &lt;/p&gt;
    &lt;p&gt;
      Sed pellentesque nisl rutrum urna condimentum, id ultrices mauris tincidunt. Vivamus porttitor metus ac lectus finibus luctus. Donec nec cursus turpis. Ut at orci turpis. Ut rutrum eros sed elementum aliquet. Aliquam turpis dui, pulvinar eget iaculis vitae, convallis vitae turpis. Phasellus velit odio, blandit sit amet metus ac, fermentum cursus velit. Nulla a odio odio. 
    &lt;/p&gt;  
  &lt;/article&gt;

  &lt;aside id=&quot;secondary&quot;&gt;
    &lt;p&gt;
      Integer sit amet nisi nec sem euismod rutrum porttitor eu nisi. Morbi arcu ipsum, placerat vitae diam id, finibus pulvinar ipsum. Nunc ac ex iaculis, eleifend elit id, finibus massa. 
    &lt;/p&gt;
    &lt;p&gt;
      Vestibulum gravida, tortor ut laoreet interdum, turpis arcu molestie neque, at posuere neque elit vitae ligula. Etiam ut consectetur lectus. Phasellus commodo urna ut fermentum congue. Mauris vitae metus ut turpis ornare scelerisque. 
    &lt;/p&gt;
  &lt;/aside&gt;
&lt;/main&gt;

&lt;footer id=&quot;footer&quot;&gt;
  &lt;p&gt;
    Proin quis orci eu erat molestie varius. Praesent condimentum  
    orci in lectus. Ut ipsum. In hac habitasse platea dictumst.
  &lt;/p&gt;
&lt;/footer&gt;</code></pre>
<p>We have also replaced <code>&lt;div&gt;</code>s with approproate semantic elements. Browse to <a href="http://localhost:9000/">http://localhost:9000/</a> to make sure it is serving correctly.</p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="03">
        <h1>Footer</h1>
<p>Create a new folder in the project called <code>includes</code> and introduce the following:</p>
<h2>includes/footer.ejs</h2>
<pre><code>&lt;footer id=&quot;footer&quot;&gt;
  &lt;p&gt;
    Proin quis orci eu erat molestie varius. Praesent condimentum  
    orci in lectus. Ut ipsum. In hac habitasse platea dictumst.
  &lt;/p&gt;
&lt;/footer&gt;</code></pre>
<p>In each of the main templates, replace the footer not with this:</p>
<pre><code>
&lt;%- partial(&quot;includes/_footer.ejs&quot;) %&gt;</code></pre>
<p>Browse to <a href="http://localhost:9000/">http://localhost:9000/</a> to make sure it is serving correctly.</p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="04">
        <h1>Navigation</h1>
<p>We can now try the same with the navigation section:</p>
<h2>includes/nav.ejs</h2>
<pre><code>&lt;nav id=&quot;navigation&quot;&gt;
  &lt;ul id=&quot;menu&quot;&gt;
    &lt;li class=&quot;current&quot;&gt;&lt;a href=&quot;index.html&quot;&gt;Mauris&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;page1.html&quot;&gt; Cras &lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;page2.html&quot;&gt;Proin&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;page3.html&quot;&gt;Integer&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;</code></pre>
<p>Replace the nav section in each file with this:</p>
<pre><code>
&lt;%- partial(&quot;includes/_nav.ejs&quot;) %&gt;</code></pre>
<p>Browse to <a href="http://localhost:9000/">http://localhost:9000/</a> to make sure it is serving correctly.</p>
<p>However, there will be a problem: not matter which page we visit, the first navigation entry remains highlighted.</p>
<p>This is because the <nav> is now shared - it always marks the first element as <code>active</code>:</p>
<pre><code>...
    &lt;li class=&quot;current&quot;&gt;&lt;a href=&quot;index.html&quot;&gt;Mauris&lt;/a&gt;&lt;/li&gt;
...</code></pre>
<p>One solution would be to reverse the last change - and keep the <code>&lt;nav&gt;</code> section individual to each page. An alternative is implemented in the next step....</p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="05">
        <h1>Dynamic Navigation</h1>
<p>Edit _layout.ejs, introducing a new element in the <code>&lt;head&gt;</code> section:</p>
<pre><code>    &lt;script type=&quot;text/javascript&quot; src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js&quot;&gt;&lt;/script&gt;</code></pre>
<p>This is the complete version:</p>
<h2>_layout.ejs</h2>
<pre><code>&lt;html&gt;
  &lt;head&gt;
    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
    &lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;home.css&quot; media=&quot;screen&quot; /&gt;
    &lt;title&gt;Home Page&lt;/title&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js&quot;&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;%- yield %&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>Replace include/_nav.ejs with the following:</p>
<h2>includes/_nav.ejs</h2>
<pre><code>&lt;nav id=&quot;navigation&quot;&gt;
  &lt;ul id=&quot;menu&quot;&gt;
    &lt;li id=&quot;Mauris&quot;&gt;  &lt;a href=&quot;index.html&quot;&gt; Mauris &lt;/a&gt;&lt;/li&gt;
    &lt;li id=&quot;Cras&quot;&gt;    &lt;a href=&quot;page1.html&quot;&gt; Cras &lt;/a&gt;&lt;/li&gt;
    &lt;li id=&quot;Proin&quot;&gt;   &lt;a href=&quot;page2.html&quot;&gt; Proin &lt;/a&gt;&lt;/li&gt;
    &lt;li id=&quot;Integer&quot;&gt; &lt;a href=&quot;page3.html&quot;&gt; Integer &lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;

&lt;script&gt;
  $(&quot;#&lt;%=id%&gt;&quot;).addClass(&quot;current&quot;);
&lt;/script&gt;</code></pre>
<p>In all four of our main pages, change the partial include to the following:</p>
<h2>index.ejs</h2>
<pre><code>...
&lt;%- partial(&quot;includes/_nav.ejs&quot;, { id: &quot;Mauris&quot; }) %&gt;
...</code></pre>
<h2>page1.ejs</h2>
<pre><code>...
&lt;%- partial(&quot;includes/_nav.ejs&quot;, { id: &quot;Cras&quot; }) %&gt;
...</code></pre>
<h2>page2.ejs</h2>
<pre><code>...
&lt;%- partial(&quot;includes/_nav.ejs&quot;, { id: &quot;Proin&quot; }) %&gt;
...</code></pre>
<h2>page3.ejs</h2>
<pre><code>...
&lt;%- partial(&quot;includes/_nav.ejs&quot;, { id: &quot;Integer&quot; }) %&gt;
...</code></pre>
<p>Browse to <a href="http://localhost:9000/">http://localhost:9000/</a> to make sure it is serving correctly.</p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="Exercises">
        <h1>Solution</h1>
<p>This is a complete archive of the site created in this lab:</p>
<ul>
<li><a href="./archives/navdemo-final.zip">navdemofinal.zip</a></li>
</ul>
<h2>Exercise 1: Compile</h2>
<p>Try the <code>harp compile</code> command from a shell inside the project folder. Explore the generated <code>www</code> folder. It should be a complete (non ejs) version of the site.</p>
<h2>Exercise 2: Publish</h2>
<p>Publish the site using the surge service.</p>

      </div>
     
    </div>
  </div>
</div>
<!--<div class="ui bottom fixed borderless right menu">
  <div class="ui right tiny menu">
    <div class="ui mini message segment">
      .
      <a href="http://creativecommons.org/licenses/by-nc/4.0/"
         title="External link to http://creativecommons.org/licenses/by-nc/4.0/"
         target="_blank">Creative Commons License
      </a>
    </div>
  </div>
</div>-->

<script>
  $(document).on('keydown', function(e) {
  e = e || window.event;
  var nextTab;
  switch (e.which || e.keyCode) {
    case 37: // left
      nextTab = $('.tab-menu a[data-tab].active').prev('a[data-tab]');
      if (!nextTab.length) nextTab = $('.tab-menu a[data-tab]').last();
      nextTab.click();
      $('.pusher').focus();
      break;

    case 39: // right
      nextTab = $('.tab-menu a[data-tab].active').next('a[data-tab]');
      if (!nextTab.length) nextTab = $('.tab-menu a[data-tab]').first();
      nextTab.click();
      $('.pusher').focus();
      break;
  }
});

</script>



    <footer>

    </footer>
    <script>
      $(document).ready(function() {
  $('img').addClass('ui image');

  $('.ui.embed').embed();

  const $images = $('.lab img');
  jQuery.each($images, function(i) {
    if ($images[i].alt.length > 0) {
      const divImg = $(document.createElement('div')).addClass(
        'ui basic segment',
      );
      $($images[i]).wrap(divImg);
      const divLabel = $(document.createElement('div')).addClass(
        'ui blue ribbon label',
      );
      divLabel.append($images[i].alt);
      $(divLabel).insertBefore($images[i]);
    }
  });

  $('.ui.menu .item').tab({
    history: true,
    historyType: 'hash',
  });

  $('.popup').popup();

  $('.ui.sidebar')
    .sidebar({ context: $('.pushable') })
    .sidebar('setting', 'transition', 'slide out')
    .sidebar('attach events', '#toc');
});

    </script>
  </body>

 </html>